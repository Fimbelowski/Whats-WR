<!DOCTYPE HTML>
<html>
<head>
  <title>What's WR?</title>
  <meta charset='utf-8'>
  <meta name='author' content='Christopher Fimbel'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <link rel='icon' href='favicon.png'>
  <link rel='stylesheet' href='styles.css'>
  <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed' rel='stylesheet'>
  <script src='vue.js'></script>
  <script src='main.js'></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116536708-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-116536708-1');
  </script>
</head>

<body>
  <h1>What's WR?</h1>
  <h2>Find a speedrun world record to watch!</h2>
  <div id='v-app'>
    <div id='main-cluster'>
      <!-- Record Information -->
      <h3><a :href='displayObj.weblink' target='_blank'>{{ displayObj.gameTitle }}{{ displayObj.categoryName }}</a>  {{ displayObj.runTime }} {{ displayObj.primaryTimingMethod }}</h3>
      <!-- VoD Embed -->
      <template v-if='displayObj.videoType === "youtube"'>
        <iframe
        id="ytplayer"
        type="text/html"
        width="1024"
        height="576"
        :src="displayObj.embedSource"
        frameborder="0"></iframe>
      </template>
      <template v-else>
        <iframe
        :src="displayObj.embedSource"
        height="576"
        width="1024"
        frameborder="0"
        scrolling="no"
        allowfullscreen="true">
        </iframe>
      </template>
      <!-- Player Information -->
      <div id='lower-cluster'>
        <div id='player-cluster'>
          <div class='player-info' v-for="player in displayObj.players">
            <template v-if="player.twitch !== null">
              <a :href="player.twitch" target='_blank'><img src='twitch-icon.png'></a>
            </template>
            <template v-else>
              <img src='twitch-icon-inactive.png'>
            </template>
            <!-- -->
            <template v-if="player.youtube !== null">
              <a :href='player.youtube' target='_blank'><img src='youtube-icon.png'></a>
            </template>
            <template v-else>
              <img src='youtube-icon-inactive.png'>
            </template>
            <!-- -->
            <template v-if='player.twitter !== null'>
              <a :href='player.twitter' target='_blank'><img src='twitter-icon.png'></a>
            </template>
            <template v-else>
              <img src='twitter-icon-inactive.png'>
            </template>
            <!-- -->
            <template v-if='player.weblink !== null'>
              <a :href='player.weblink' target='_blank'><h3>{{ player.name }}</h3></a>
            </template>
            <template v-else>
              <h3>{{ player.name }}</h3>
            </template>
          </div>
        </div>
        <div id='control-cluster'>
          <button type='button' :disabled='isButtonDisabled' @click='fetchNewRecord'>Get WR!</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
