window.onload=function(){var e=new Vue({el:"#main",data:{totalNumOfGamesStartingOffset:14e3,totalNumOfGames:0,randomCategories:[],categoriesToCheck:[],viewableCategories:[]},methods:{getTotalNumOfGames:function(){new Promise((e,t)=>{const o=new XMLHttpRequest;var a="https://www.speedrun.com/api/v1/games?_bulk=yes&max=1000&offset="+this.totalNumOfGamesStartingOffset;o.open("GET",a),o.onload=(()=>e(JSON.parse(o.responseText).data)),o.onerror=(()=>t(o.statusText)),o.send()}).then(t=>{t.length<1e3?(e.totalNumOfGames=e.totalNumOfGamesStartingOffset+t.length,e.getRandomGroupOfGames()):(e.totalNumOfGamesStartingOffset+=1e3,e.getTotalNumOfGames())})},getRandomGroupOfGames:function(){new Promise((e,t)=>{const o=new XMLHttpRequest;var a="https://www.speedrun.com/api/v1/games?offset="+this.getRandomNumber(this.totalNumOfGames)+"&embed=categories.game";o.open("GET",a),o.onload=(()=>e(JSON.parse(o.responseText).data)),o.onerror=(()=>t(o.statusText)),o.send()}).then(t=>{e.extractCategoriesFromGroupOfGames(t)})},extractCategoriesFromGroupOfGames:function(e){var t=[].concat.apply([],e.map(e=>e.categories.data));console.log(t)},getRandomNumber:function(e){return Math.floor(Math.random()*(e+1))},getRandomSetOfCategories:function(e,t=10){for(var o=0;o<e.length;o++)"per-level"===e[o].type&&e.splice(o,1);for(var a=[],r=[];a.length<t;){var s=this.getRandomNumber(e.length-1);-1===a.indexOf(s)&&a.push(s)}for(o=0;o<a.length;o++)r.push(e[a[o]]);this.getRecordFromCategoryID(r)},getRecordFromCategoryObj:function(e){return new Promise((t,o)=>{const a=new XMLHttpRequest;var r="https://www.speedrun.com/api/v1/categories/"+e.id+"/records?top=1";a.open("GET",r),a.onload=(()=>t(JSON.parse(a.responseText).data)),a.onerror=(()=>o(a.statusText)),a.send()})},getRecordsFromCategoryArray:function(e){for(var t=0;t<e.length;t++);},isRecordSuitableForViewing:function(e){}},created:function(){this.getTotalNumOfGames()}})};