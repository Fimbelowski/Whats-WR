window.onload=function(){var e=new Vue({el:"#main",data:{totalNumOfGamesStartingOffset:14e3,totalNumOfGames:0,randomCategories:[],viewableCategories:[]},methods:{getTotalNumOfGames:function(){var t=new XMLHttpRequest;t.open("GET","https://www.speedrun.com/api/v1/games?_bulk=yes&max=1000&offset="+this.totalNumOfGamesStartingOffset,!0),t.onload=function(){var t=JSON.parse(this.responseText).data.length;1e3===t?(e.totalNumOfGamesStartingOffset+=1e3,e.getTotalGames()):(e.totalNumOfGames=e.totalNumOfGamesStartingOffset+t,e.getRandomGroupOfGames())},t.send()},getRandomGroupOfGames:function(){var t=new XMLHttpRequest,a="https://www.speedrun.com/api/v1/games?offset="+this.getRandomNumber(this.totalNumOfGames)+"&embed=categories.game";t.open("GET",a,!0),t.onload=function(){for(var t=JSON.parse(this.responseText).data,a=0;a<t.length;a++)for(var o=0;o<t[a].categories.data.length;o++)e.randomCategories.push(t[a].categories.data[o]);e.checkCategoriesForSuitability(5)},t.send()},getRandomNumber:function(e){return Math.floor(Math.random()*(e+1))},checkCategoriesForSuitability:function(e){for(var t=[];t.length<e;){var a=this.getRandomNumber(this.randomCategories.length);-1===t.indexOf(a)&&t.push(a)}for(var o=0;o<t.length;o++){var s=new XMLHttpRequest,n="https://www.speedrun.com/api/v1/categories/"+this.randomCategories[t[o]].id+"/records?top=1";s.open("GET",n,!0),s.onload=function(){console.log(JSON.parse(this.responseText))},s.send()}}},created:function(){this.getTotalNumOfGames()}})};